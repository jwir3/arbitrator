{"version":3,"file":"background.js","sources":["src/menu/dev_menu_template.js","src/menu/edit_menu_template.js","src/helpers/window.js","src/arbitrator/Place.js","src/arbitrator/secret.js","src/arbitrator/ArbitratorConfig.js","src/env.js","src/arbitrator/PreferenceStore.js","src/arbitrator/ArbitratorGoogleClient.js","src/arbitrator/StringUtils.js","src/arbitrator/Game.js","src/arbitrator/Arbitrator.js","src/arbitrator/UIManager.js","src/background.js"],"sourcesContent":["import { app, BrowserWindow } from 'electron';\n\nexport var devMenuTemplate = {\n    label: 'Development',\n    submenu: [{\n        label: 'Reload',\n        accelerator: 'CmdOrCtrl+R',\n        click: function () {\n            BrowserWindow.getFocusedWindow().webContents.reloadIgnoringCache();\n        }\n    },{\n        label: 'Toggle DevTools',\n        accelerator: 'Alt+CmdOrCtrl+I',\n        click: function () {\n            BrowserWindow.getFocusedWindow().toggleDevTools();\n        }\n    },{\n        label: 'Quit',\n        accelerator: 'CmdOrCtrl+Q',\n        click: function () {\n            app.quit();\n        }\n    }]\n};\n","export var editMenuTemplate = {\n    label: 'Edit',\n    submenu: [\n        { label: \"Undo\", accelerator: \"CmdOrCtrl+Z\", selector: \"undo:\" },\n        { label: \"Redo\", accelerator: \"Shift+CmdOrCtrl+Z\", selector: \"redo:\" },\n        { type: \"separator\" },\n        { label: \"Cut\", accelerator: \"CmdOrCtrl+X\", selector: \"cut:\" },\n        { label: \"Copy\", accelerator: \"CmdOrCtrl+C\", selector: \"copy:\" },\n        { label: \"Paste\", accelerator: \"CmdOrCtrl+V\", selector: \"paste:\" },\n        { label: \"Select All\", accelerator: \"CmdOrCtrl+A\", selector: \"selectAll:\" }\n    ]\n};\n","// This helper remembers the size and position of your windows (and restores\n// them in that place after app relaunch).\n// Can be used for more than one window, just construct many\n// instances of it and give each different name.\n\nimport { app, BrowserWindow, screen } from 'electron';\nimport jetpack from 'fs-jetpack';\n\nexport default function (name, options) {\n\n    var userDataDir = jetpack.cwd(app.getPath('userData'));\n    var stateStoreFile = 'window-state-' + name +'.json';\n    var defaultSize = {\n        width: options.width,\n        height: options.height\n    };\n    var state = {};\n    var win;\n\n    var restore = function () {\n        var restoredState = {};\n        try {\n            restoredState = userDataDir.read(stateStoreFile, 'json');\n        } catch (err) {\n            // For some reason json can't be read (might be corrupted).\n            // No worries, we have defaults.\n        }\n        return Object.assign({}, defaultSize, restoredState);\n    };\n\n    var getCurrentPosition = function () {\n        var position = win.getPosition();\n        var size = win.getSize();\n        return {\n            x: position[0],\n            y: position[1],\n            width: size[0],\n            height: size[1]\n        };\n    };\n\n    var windowWithinBounds = function (windowState, bounds) {\n        return windowState.x >= bounds.x &&\n            windowState.y >= bounds.y &&\n            windowState.x + windowState.width <= bounds.x + bounds.width &&\n            windowState.y + windowState.height <= bounds.y + bounds.height;\n    };\n\n    var resetToDefaults = function (windowState) {\n        var bounds = screen.getPrimaryDisplay().bounds;\n        return Object.assign({}, defaultSize, {\n            x: (bounds.width - defaultSize.width) / 2,\n            y: (bounds.height - defaultSize.height) / 2\n        });\n    };\n\n    var ensureVisibleOnSomeDisplay = function (windowState) {\n        var visible = screen.getAllDisplays().some(function (display) {\n            return windowWithinBounds(windowState, display.bounds);\n        });\n        if (!visible) {\n            // Window is partially or fully not visible now.\n            // Reset it to safe defaults.\n            return resetToDefaults(windowState);\n        }\n        return windowState;\n    };\n\n    var saveState = function () {\n        if (!win.isMinimized() && !win.isMaximized()) {\n            Object.assign(state, getCurrentPosition());\n        }\n        userDataDir.write(stateStoreFile, state, { atomic: true });\n    };\n\n    state = ensureVisibleOnSomeDisplay(restore());\n\n    win = new BrowserWindow(Object.assign({}, options, state));\n\n    win.on('close', saveState);\n\n    return win;\n}\n","/**\n * A Place consists of a name, a shorter name (the alias used within Arbiter to\n * identify the site), an address, and a sub-location name (possibly blank). The\n * address may be undefined if no address was specified for this Place.\n */\nexport var Place = function(aShortName, aName, aAddress, aSubLocationName) {\n  this.mShortName = aShortName;\n  this.mName = aName;\n  this.mAddress = aAddress;\n  this.mSubLocationName = aSubLocationName;\n}\n\nPlace.prototype = {\n  getShortName: function() {\n    return this.mShortName;\n  },\n\n  getName: function() {\n    return this.mName;\n  },\n\n  getAddress: function() {\n    return this.mAddress;\n  },\n\n  getSubLocationName: function() {\n    return this.mSubLocationName;\n  },\n\n  hasSubLocation: function() {\n    return this.getSubLocationName() != \"\";\n  }\n}\n","export var secret = {\n  \"googleClientId\": \"609265890429-0evcp2uqktl726lf6ijfu56fpkh8c7cv.apps.googleusercontent.com\",\n  \"googleClientSecret\": \"m-hzuH_h2O81XJkd2xNYY6QU\"\n\n  // \"alpha\": {\n  //   \"googleClientId\": \"609265890429-c5d69skkd9o2f1fksco00294oom2burf.apps.googleusercontent.com\",\n  //   \"googleAPIKey\": \"AIzaSyDkiyjtUnxlzQUyxnu0WqUtkhyV8Q2KyA0\"\n  // },\n  //\n  // \"beta\": {\n  //   \"googleClientId\": \"609265890429-n8ottusag6nrsekmddusvlkl159gqpcg.apps.googleusercontent.com\",\n  //   \"googleAPIKey\": \"AIzaSyDCOT-fmjG2gnAtVXfSceL41Od8WykmRcE\"\n  // },\n  //\n  // \"release\": {\n  //   \"googleClientId\": \"609265890429-7j1d1dfo11m1h35gboc4cr4fejcglmhl.apps.googleusercontent.com\",\n  //   \"googleAPIKey\": \"AIzaSyAYQEmBt5F_-CxcTuaIScgFv_SeYtzfikc\"\n  // }\n};\n","import { remote } from 'electron';\nimport jetpack from 'fs-jetpack';\nimport { secret } from './secret';\n\nexport var ArbitratorConfig = {\n  /**\n   * Set this value to the Google Web Application Client ID you generated when\n   * creating a new OAuth2 permission in your Google Developer Console.\n   */\n\n  // NOTE: These values should all be injected, based on the appropriate\n  //       environment, during the build.\n  'google_client_id': secret.googleClientId,\n  'google_client_secret': secret.googleClientSecret,\n  'version_number': \"2.0.0\"\n};\n","// Simple wrapper exposing environment variables to rest of the code.\n\nimport jetpack from 'fs-jetpack';\n\n// The variables have been written to `env.json` by the build process.\nvar env = jetpack.cwd(__dirname).read('env.json', 'json');\n\nexport default env;\n","import { Place } from './Place'\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport jetpack from 'fs-jetpack'\nimport env from '../env'\n\nconst PREFERENCE_STORE_KEY = Symbol(\"PreferenceStore\");\n\n/**\n * An object connected to local storage for persistent storage of setting\n * data.\n */\nvar PreferenceStore = function() {\n  if (env.name == 'test') {\n    this.shouldStore = false;\n  }\n\n  this._retrievePreferences();\n}\n\nexport var TimeType = {\n  /**\n   * Flag for indicating the time type is prior to the game start.\n   */\n  PRIOR_TO_START: 'priorToStart',\n\n  /**\n   * Flag for indicating the time type is after the game start until the game\n   * ends (i.e. the length of the game).\n   */\n  LENGTH_OF_GAME: 'gameLength',\n\n  /**\n   * Flag for indicating how long (in hours) between games should be considered\n   * \"consecutive\" games. Any game at the same location within this number of\n   * hours of a previous game on the same day will be considered \"consecutive\".\n   */\n  CONSECUTIVE_GAME_THRESHOLD: 'consecutiveGames'\n};\n\nPreferenceStore.prototype = {\n  authTokens: null,\n  shouldStore: true,\n\n  /**\n   * Add an alias for a group ID so that it can be reported as a human-readable\n   * name.\n   *\n   * @param aGroupId The id of the group to alias\n   * @param aGroupAlias The alias to replace the group id with.\n   */\n  addGroupAlias: function(aGroupId, aGroupAlias) {\n    if (!this.groupAliases) {\n      this.groupAliases = {};\n    }\n\n    this._verifyExtensibility(\"groupAliases\");\n\n    this.groupAliases[aGroupId] = aGroupAlias;\n    this._putPreferences();\n  },\n\n  /**\n   * Add a time preference to the preference store.\n   *\n   * @param aType The type to add. Must be one of TimeType available options.\n   * @param aTimePeriod The time value to add to the preference store. If not\n   *        >= 0, then will be set to 0.\n   */\n  addTimePreference: function(aType, aTimePeriod) {\n    if (!this.time) {\n      this.time = {};\n    }\n\n    if (aTimePeriod < 0) {\n      console.log(\"Unable to set a time preference value < 0. Resetting time to 0.\");\n      aTimePeriod = 0;\n    }\n\n    var priorStart = this.time[TimeType.PRIOR_TO_START];\n    var gameLength = this.time[TimeType.LENGTH_OF_GAME];\n    var consecThreshold = this.time[TimeType.CONSECUTIVE_GAME_THRESHOLD];\n\n    switch(aType) {\n      case TimeType.PRIOR_TO_START:\n        priorStart = aTimePeriod;\n        break;\n\n      case TimeType.LENGTH_OF_GAME:\n        gameLength = aTimePeriod;\n        break;\n\n      case TimeType.CONSECUTIVE_GAME_THRESHOLD:\n        consecThreshold = aTimePeriod;\n        break;\n\n      default:\n        throw \"Unable to determine type for '\" + aType + \"'\";\n    }\n\n    this.time = {\n      [TimeType.PRIOR_TO_START]: priorStart,\n      [TimeType.LENGTH_OF_GAME]: gameLength,\n      [TimeType.CONSECUTIVE_GAME_THRESHOLD]: consecThreshold\n    };\n\n    this._putPreferences();\n  },\n\n  addLocationPreference: function(aPlace) {\n    if (!this.locations) {\n      this.locations = {};\n    }\n\n    this._verifyExtensibility(\"locations\");\n\n    this.locations[aPlace.getShortName()] = aPlace;\n\n    this._putPreferences();\n  },\n\n  /**\n   * Retrieve the value of a single time preference.\n   *\n   * @param aTimeType The time of time preference to retrieve. Must be one of the\n   *        types specified in TimeType.\n   * @param aDefault The default time (in minutes) to specify if one has not been\n   *        added to the preference store.\n   *\n   * @return A numeric value indicating the number of minutes specified for the\n   *         given time preference.\n   */\n  getTimePreference: function(aTimeType, aDefault) {\n    if (this.time && this.time[aTimeType]) {\n      return parseInt(this.time[aTimeType], 10);\n    }\n\n    return aDefault;\n  },\n\n  getLocationPreference: function(aLocationKey) {\n      if (this.locations && this.locations[aLocationKey]) {\n        var genericLoc = this.locations[aLocationKey];\n        return new Place(genericLoc.mShortName, genericLoc.mName,\n                        genericLoc.mAddress, genericLoc.mSubLocationName);\n      }\n\n      return aLocationKey;\n  },\n\n  /**\n   * Retrieve all preferences related to time currently in the preference store.\n   *\n   * @return An object with members corresponding to time preferences as defined\n   *         in TimeType, if they exist in the local storage; an empty object,\n   *         otherwise.\n   */\n  getAllTimePreferences: function() {\n    if (this.time) {\n      return Object.freeze(this.time);\n    }\n\n    return new Object();\n  },\n\n  getAllLocationPreferences: function() {\n    if (this.locations) {\n      return Object.freeze(this.locations);\n    }\n\n    return new Object();\n  },\n\n  /**\n   * Retrieve all preferences related to group aliases currently in the\n   * preference store.\n   *\n   * @return An object with members corresponding to group alias preferences if\n   *         any exist in the local storage; an empty object, otherwise.\n   */\n  getAllGroupAliases: function() {\n      if (this.groupAliases) {\n        return Object.freeze(this.groupAliases);\n      }\n\n      return new Object();\n  },\n\n  /**\n   * Retrieve an alias for a group, based on an ID submitted.\n   */\n  getAliasForGroupId: function(aGroupId) {\n    if (this.groupAliases) {\n      var actualName = this.groupAliases[aGroupId];\n      if (actualName) {\n        return actualName;\n      }\n    }\n\n    // Once it's been seen, we should add it to the preference store.\n    this.addGroupAlias(aGroupId, aGroupId);\n\n    return aGroupId;\n  },\n\n  /**\n   * Determine if there are aliased groups in local storage.\n   *\n   * @return true, if there is at least one group id with an alias;\n   *         false, otherwise\n   */\n  hasAliasedGroups: function() {\n    if (this.groupAliases) {\n      for (var prop in this.groupAliases) {\n        if (this.groupAliases.hasOwnProperty(prop)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * Determine if there are time preferences saved in local storage.\n   *\n   * @return true, if there is at least one time preference saved to local storage;\n   *         false, otherwise\n   */\n  hasTimePreferences: function() {\n    if (this.time) {\n      for (var prop in this.time) {\n        if (this.time.hasOwnProperty(prop)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  },\n\n  hasLocationPreference: function(aPreferenceKey) {\n    if (this.locations) {\n      if (this.locations.hasOwnProperty(aPreferenceKey)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * Remove the instance of a single time preference from the preference store.\n   *\n   * @param aTimeType The type of time preference to remove. Must be one of the\n   *        values specified in TimeType.\n   */\n  removeTimePreference: function(aTimeType) {\n    if (this.time) {\n      delete this.time[aTimeType];\n    }\n\n    this._putPreferences();\n  },\n\n  removeLocationPreference: function(aLocationKey) {\n    this._verifyExtensibility(\"locations\");\n\n    if (this.locations) {\n      delete this.locations[aLocationKey];\n    }\n\n    this._putPreferences();\n  },\n\n  /**\n   * Remove a previously created alias for a group ID.\n   *\n   * @param The group id for which the previously-created alias should be\n   *         removed.\n   */\n  removeGroupAlias: function(aGroupId) {\n    this._verifyExtensibility(\"groupAliases\");\n    \n    if (this.groupAliases) {\n      delete this.groupAliases[aGroupId];\n    }\n\n    this._putPreferences();\n  },\n\n  setUserId: function(aUserId) {\n    this.userId = aUserId;\n\n    this._putPreferences();\n  },\n\n  removeUserId: function() {\n    delete this.userId;\n    this._putPreferences();\n  },\n\n  getUserId: function() {\n    return this.userId;\n  },\n\n  /**\n   * Remove all previously created group aliases from the preference store.\n   */\n  removeAllGroupAliases: function() {\n    this.groupAliases = new Object();\n    this._putPreferences();\n  },\n\n  setAuthTokens: function(aAuthTokens) {\n    this.authTokens = aAuthTokens;\n    this._putPreferences();\n  },\n\n  getAuthTokens: function() {\n    return this.authTokens;\n  },\n\n  /**\n   * Put all preferences into local storage to be saved for a later date.\n   */\n  _putPreferences: function() {\n    if (this.shouldStore) {\n      var storedPrefs = jetpack.cwd(this._getUserHome())\n                               .dir(\".arbitrator\")\n                               .write(\"userConfig.json\", this);\n     }\n  },\n\n  /**\n   * Retrieve preferences from local storage and populate this object with the\n   * data from the store.\n   */\n  _retrievePreferences: function() {\n    var storedPrefs = jetpack.cwd(this._getUserHome())\n                             .read(\".arbitrator/userConfig.json\", 'json');\n    if (this.shouldStore && storedPrefs) {\n      this.groupAliases = storedPrefs.groupAliases;\n      this.time = storedPrefs.time;\n      this.locations = storedPrefs.locations;\n      this.userId = storedPrefs.userId;\n      this.authTokens = storedPrefs.authTokens;\n    }\n  },\n\n  _getUserHome: function() {\n    return process.env[(process.platform == 'win32') ? 'USERPROFILE' : 'HOME'];\n  },\n\n  _verifyExtensibility: function(aProperty) {\n    if (!Object.isExtensible(this[aProperty])) {\n      // Make a copy of the object, because somewhere along the line, it became\n      // non-extensible. :(\n      var newObj = {};\n      for (var x in this[aProperty]) {\n        newObj[x] = this[aProperty][x];\n      }\n\n      this[aProperty] = newObj;\n    }\n\n  }\n};\n\nexport var PreferenceSingleton = {};\n\nObject.defineProperty(PreferenceSingleton, \"instance\", {\n  get: function() {\n    if (!global[PREFERENCE_STORE_KEY]) {\n      global[PREFERENCE_STORE_KEY] = new PreferenceStore();\n    }\n\n    return global[PREFERENCE_STORE_KEY];\n  }\n});\n\nObject.freeze(PreferenceSingleton);\n","import { ArbitratorConfig } from './ArbitratorConfig'\nimport * as google from 'googleapis'\nimport createWindow from '../helpers/window';\nimport { PreferenceSingleton, TimeType } from './PreferenceStore';\n\n/**\n * Create a new instance of an ArbitratorGoogleClient object for use with Arbitrator.\n *\n * @param aOptionalCallback (Optional) A callback to be called when the\n *        ArbitratorGoogleClient has finished its initialization.\n */\nexport var ArbitratorGoogleClient = function() {\n}\n\nArbitratorGoogleClient.prototype = {\n  client: null,\n\n  getToken: function() {\n    var that = this;\n    return new Promise((resolve, reject) => {\n      var prefStore = PreferenceSingleton.instance;\n      var OAuth2 = google.auth.OAuth2;\n      that.client = new OAuth2(\n        ArbitratorConfig.google_client_id,\n        ArbitratorConfig.google_client_secret,\n        'urn:ietf:wg:oauth:2.0:oob' // Instruct google to return the auth code via the title\n      );\n\n      var tokens = prefStore.getAuthTokens();\n      if (tokens) {\n        that.client.setCredentials(tokens);\n        resolve(tokens);\n      } else {\n        var scopes = [\n          'https://www.googleapis.com/auth/calendar',\n          'https://www.googleapis.com/auth/userinfo.profile'\n        ];\n\n        var url = that.client.generateAuthUrl({\n          // 'online' (default) or 'offline' (gets refresh_token)\n          access_type: 'offline',\n          scope: scopes\n        });\n\n        var window = createWindow('googleAuth', {width: 400, height:650});\n        window.loadURL(url);\n\n        window.on('page-title-updated', () => {\n          setImmediate(() => {\n            const title = window.getTitle();\n            if (title.startsWith('Denied')) {\n              reject(new Error(title.split(/[ =]/)[2]));\n              window.removeAllListeners('closed');\n              window.close();\n            } else if (title.startsWith('Success')) {\n              var code = title.split(/[ =]/)[2];\n              that.client.getToken(code, function (err, tokens) {\n                // Now tokens contains an access_token and an optional refresh_token. Save them.\n                if (!err) {\n                  that.client.setCredentials(tokens);\n                  var prefStore = PreferenceSingleton.instance;\n                  prefStore.setAuthTokens(tokens);\n                  resolve(tokens);\n                  window.removeAllListeners('closed');\n                  window.close();\n                }\n              });\n            }\n          });\n        });\n      }\n    });\n  },\n\n  getCalendarList: function() {\n    var that = this;\n    return new Promise((resolve, reject) => {\n      var cal = google.calendar({\n        version: 'v3',\n        auth: that.client\n      });\n\n      cal.calendarList.list(null, null,\n        function (err, result) {\n          if (err) {\n            reject(err);\n          }\n\n          resolve(result.items);\n      });\n    });\n  },\n\n  getUserId: function() {\n    var that = this;\n    return new Promise((resolve, reject) => {\n      var plus = google.plus({version: 'v1', auth: that.client});\n      plus.people.get({'userId': 'me'}, function(err, result) {\n        if (err) {\n          reject(err);\n        }\n\n        resolve(result.id);\n      });\n    });\n  },\n\n  initialize: function(aOptionalCallback) {\n      var arbiterConfig = ArbitratorConfig;\n      var config = {\n        'client_id': arbiterConfig.google_client_id,\n        'client_secret': arbiterConfig.google_client_secret,\n        'scope': 'https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.profile',\n        'authuser': -1\n      }\n\n      var prefStore = PreferenceSingleton.instance;\n      if (prefStore.getUserId()) {\n        config.user_id = prefStore.getUserId();\n      }\n\n      var that = this;\n      this.mGapi.auth.authorize(config, function(authResult) {\n        if (authResult && !authResult.error) {\n          that.populateCalendarList();\n          that.populateUserId();\n\n          if (aOptionalCallback) {\n            aOptionalCallback();\n          }\n        }\n      });\n  }\n};\n","export var StringUtils = {\n  capitalize: function(aString) {\n    // Split into words and capitalize each word, then re-join the strings.\n    var wordArray = aString.split(/\\s/);\n    var extractedWords = new Array();\n    for (var i in wordArray) {\n      var value = wordArray[i];\n      if (value.length == 0) {\n        continue;\n      }\n      var newWord = value[0].toUpperCase() + value.substr(1);\n      extractedWords.push(newWord);\n    }\n\n    return extractedWords.join(\" \");\n  }\n};\n","import * as CryptoJS from 'crypto-js'\nimport { Place } from './Place'\nimport { PreferenceSingleton, TimeType } from './PreferenceStore'\nimport * as moment from 'moment';\n\nvar gameLevels = {\n  'Mite'            : 'Mite',\n  'Squirt'          : 'Squirt',\n  'Peewee'          : 'Peewee',\n  'Bantam'          : 'Bantam',\n  'Junior Gold'     : 'Junior Gold',\n  'Junior'          : 'Junior',\n  'SC'              : 'Squirt C',\n  'SB'              : 'Squirt B',\n  'SA'              : 'Squirt A/AA/AAA',\n  'PC'              : 'Peewee C',\n  'PB'              : 'Peewee B',\n  'PA'              : 'Peewee A/AA/AAA',\n  'BC'              : 'Bantam C',\n  'BB'              : 'Bantam B',\n  'BA'              : 'Bantam A/AA/AAA',\n  'JGB'             : 'Junior Gold B',\n  'JGA'             : 'Junior Gold A/AA/AAA',\n  '10U'             : '10U Girls',\n  '10A'             : '10U Girls A',\n  '10B'             : '10U Girls B',\n  '12U'             : '12U Girls',\n  '12A'             : '12U Girls A',\n  '12B'             : '12U Girls B',\n  '14U'             : '14U Girls',\n  '16U'             : '16U Girls',\n  '19U'             : '19U Girls',\n  'Boys, Varsity'   : 'Varsity Boys',\n  'Girls, Varsity'  : 'Varsity Girls',\n  'Boys, JV'        : 'Junior Varsity Boys',\n  'Girls, JV'       : 'Junior Varsity Girls'\n};\n\n/**\n * Enumeration for Roles. Currently, an official (for hockey) can be one of the\n * following:\n *\n *  - A Referee\n *  - A Linesman\n *  - An unknown role\n *\n * No other roles are supported at this time. In the future, it would be nice to\n * support other roles, but it's unclear how long this polyfill for lack of\n * Google calendar support in AS will last.\n */\nexport var Role = Object.freeze({\n  REFEREE: 0,\n  LINESMAN: 1,\n  UNKNOWN: -1\n});\n\nexport var Game = function (aId, aGroup, aRole, aTimestamp, aSportLevel, aSite,\n                            aHomeTeam, aAwayTeam, aFees) {\n  var prefStore = PreferenceSingleton.instance;\n  this.mId = aId;\n  this.mGroup = prefStore.getAliasForGroupId(aGroup);\n  this.setRole(aRole);\n  this.mTimestamp = aTimestamp;\n  this.mSportLevel = aSportLevel;\n  this.mSite = this.getPlaceForSite(aSite);\n  this.mHomeTeam = aHomeTeam;\n  this.mAwayTeam = aAwayTeam;\n  this.mFees = aFees;\n  this.mIsConsecutiveGame = false;\n}\n\nGame.prototype = {\n  getId: function() {\n    return this.mId;\n  },\n\n  getGroup: function() {\n    return this.mGroup;\n  },\n\n  getSportLevel: function() {\n    return this.mSportLevel;\n  },\n\n  getSite: function() {\n    return this.mSite;\n  },\n\n  getHomeTeam: function() {\n    return this.mHomeTeam;\n  },\n\n  getAwayTeam: function() {\n    return this.mAwayTeam;\n  },\n\n  getFees: function() {\n    return this.mFees;\n  },\n\n  getTimestampAsString: function() {\n    var components = this.mTimestamp.split(\" \");\n    return components[0] + \" \" + components[2] +  \" \" + components[3];\n  },\n\n  /**\n   * Retrieve the moment for which this game starts.\n   *\n   * @return {Moment} A Moment.js moment for which this game is set to start,\n   *                  based on the data from ArbiterSports.\n   */\n  getTimestamp: function() {\n    return moment(this.getTimestampAsString());\n  },\n\n  getTime12Hr: function() {\n    return this.getTimestamp().format(\"h:mma\");\n  },\n\n  getISOStartDate: function() {\n    var prefStore = PreferenceSingleton.instance;\n    var startDate = this.getTimestamp();\n    var priorToStart = prefStore.getTimePreference(TimeType.PRIOR_TO_START, 30);\n    if (this.isConsecutiveGame()) {\n      priorToStart = 0;\n    }\n\n    return startDate.subtract(priorToStart, 'minutes').toISOString();\n  },\n\n  getISOEndDate: function() {\n    var prefStore = PreferenceSingleton.instance;\n    var endDate = this.getTimestamp();\n\n    // Default to 1 hour if no time preference is specified.\n    var gameLengthMins = prefStore.getTimePreference(TimeType.LENGTH_OF_GAME, 60);\n    return endDate.add(gameLengthMins, 'minutes').toISOString();\n  },\n\n  /**\n   * Determines if this game is a consecutive game (a game where the preceding\n   * game is at the same site and ended within two hours of the start of this\n   * game).\n   *\n   * @return true, if this game is a consecutive game; false, otherwise.\n   */\n  isConsecutiveGame: function() {\n    return this.mIsConsecutiveGame;\n  },\n\n  /**\n   * Set whether or not this game is a consecutive game (a game where the\n   * preceding game is at the same site and ended within two hours of the start\n   * of this game).\n   *\n   * @param aIsConsecutive Whether or not this is a consecutive game\n   */\n  setConsecutiveGame: function(aIsConsecutive) {\n    this.mIsConsecutiveGame = aIsConsecutive;\n  },\n\n  /**\n   * Determines if this game is within the time range (within the same day and\n   * within the consecutive game threshold) necessary to be considered for a\n   * possible consecutive game with another game.\n   *\n   * @param aGame A Game for which this game should be determined to follow by\n   *        less than the threshold for consecutive games.\n   *\n   * @return true, if this Game is within the time range necessary to make it a\n   *         potential consecutive game; false, otherwise.\n   */\n  isWithinConsecutiveTimeRangeOf: function(aGame) {\n    var prefStore = PreferenceSingleton.instance;\n    var consecutiveGameThreshold = prefStore.getTimePreference(TimeType.CONSECUTIVE_GAME_THRESHOLD, 2);\n    var aOtherTimestamp = aGame.getTimestamp();\n    var timeStamp = this.getTimestamp();\n    return aOtherTimestamp.date() == timeStamp.date()\n           && aOtherTimestamp.year() == timeStamp.year()\n           && aOtherTimestamp.month() == timeStamp.month()\n           && aOtherTimestamp.hours() + consecutiveGameThreshold >= timeStamp.hours()\n  },\n\n  setRole: function(aRoleString) {\n    // Role is column 3, and can be either \"Referee\" or \"Linesman\".\n    if (aRoleString.search(/referee/i) != -1) {\n      this.mRole = Role.REFEREE;\n    } else if (aRoleString.search(/linesman/i) != -1) {\n      this.mRole = Role.LINESMAN;\n    } else {\n      this.mRole = Role.UNKNOWN;\n    }\n  },\n\n  isTeamValid: function(aTeamName) {\n    switch(aTeamName) {\n      case 'TBD':\n        return false;\n      case 'TBA':\n        return false;\n      default:\n        return true;\n    }\n  },\n\n  getLevel: function() {\n    // See hashmap of levels at the top of the file.\n    // TODO: Add a better algorithm for this.\n\n    var levelString = this.getSportLevel();\n    var levelKeys = Object.keys(gameLevels);\n    for (var level in levelKeys) {\n      if (levelString.indexOf(levelKeys[level]) > 0) {\n        return gameLevels[levelKeys[level]];\n      }\n    }\n\n    // Check for a year\n    var yearStringIdx = levelString.search(/([0-9]{4})/g);\n    var yearString = levelString.slice(yearStringIdx, yearStringIdx+4);\n\n    if (yearString) {\n        var currentYear = (new Date()).getFullYear();\n        var age = parseInt(currentYear,10) - yearString;\n        if (age <= 8) {\n          return 'Mite';\n        } else if (age > 8 && age <= 10) {\n          return 'Squirt';\n        } else if (age > 10 && age <= 12) {\n          return 'Peewee';\n        } else if (age > 12 && age <= 14) {\n          return 'Bantam';\n        } else if (age > 14 && age <= 16) {\n          return '16U Boys/Girls';\n        } else if (age > 16 && age <= 18) {\n          return 'Junior Gold';\n        } else if (age > 18 && age <= 20) {\n          return 'Junior';\n        } else if (age > 20){\n          return 'Senior Mens/Womens';\n        }\n    }\n\n    // TODO: Add analytics so that we can determine what the unknown was.\n    return \"UNKNOWN\";\n  },\n\n  areTeamsValid: function() {\n    return this.isTeamValid(this.mHomeTeam) && this.isTeamValid(this.mAwayTeam);\n  },\n\n  getSummaryString: function() {\n    var summaryString = \"\";\n    if (this.getGroup() != \"NONE\") {\n      summaryString = summaryString + \"[\" + this.getGroup() + \"] \";\n    }\n\n    var role = this.getRole();\n    if (role == Role.REFEREE) {\n      summaryString = summaryString + \"Referee \";\n    } else if (role == Role.LINESMAN) {\n      summaryString = summaryString + \"Linesman \";\n    } else {\n      summaryString = summaryString + \"Officiate \";\n    }\n\n   if (this.isScrimmage()) {\n      summaryString = summaryString + \"Scrimmage \";\n   }\n\n   if (this.areTeamsValid()) {\n      summaryString = summaryString + this.mHomeTeam + \" v \" + this.mAwayTeam + \" \";\n   }\n\n   var level = this.getLevel();\n   if (level != 'UNKNOWN') {\n     summaryString = summaryString + \"(\" + level + (this.isTournament() ? \" Tournament\" : \"\") + \")\";\n   }\n\n   return summaryString.trim();\n  },\n\n  getRole: function() {\n    return this.mRole;\n  },\n\n  getEventJSON: function() {\n    var siteData = this.getSite().getAddress() ? this.getSite().getAddress() : this.getSite().getName();\n    var subLocationString = this.getSite().hasSubLocation() ? \"\\n\\nRink \" + this.getSite().getSubLocationName() : \"\";\n    return  {\n      \"end\": {\n        \"dateTime\": this.getISOEndDate()\n      },\n      \"start\": {\n        \"dateTime\": this.getISOStartDate()\n      },\n      \"location\": siteData,\n      \"description\": \"Game starts at \" + String(this.getTime12Hr())\n                     + subLocationString\n                     + \"\\n\\n{ArbitratorHash: \" + String(this.getHash()) + \"}\",\n      \"summary\": this.getSummaryString()\n    };\n  },\n\n  isScrimmage: function() {\n    return this.getSportLevel().search(/scrimmage/i) != -1;\n  },\n\n  isTournament: function() {\n    return this.getSportLevel().search(/tournament/i) != -1;\n  },\n\n  /**\n   * Retrieve an identification string for this game. Essentially, this is\n   * just a concatenation of the game id, the group, teams playing, and level.\n   *\n   * @return A string that is an identifier for this game. This identifier should\n   *         not change, even if the game dates/times change.\n   */\n   getIdentificationString: function() {\n      // var level = this.getLevel() === \"UNKNOWN\" ? \"\" : this.getLevel();\n      // var teams = this.areTeamsValid() ? this.getHomeTeam() + \"v\" + this.getAwayTeam() : \"\";\n      var idString = String(this.getId());\n      // idString = idString + this.getGroup() + level + teams;\n\n      return idString.replace(/\\s+/gm, \"\");\n   },\n\n  /**\n   * Retrieve a hash of the unique identifying information of this game. This\n   * serves to identify the game if the date/time changes.\n   *\n   * @return A string of a SHA-1 hash of the game id.\n   */\n  getHash: function() {\n    return CryptoJS.SHA1(this.getIdentificationString()).toString(CryptoJS.enc.Hex);\n  },\n\n\n  /**\n   * Retrieve a Place object for some existing site string.\n   *\n   * @param aSiteName The textual name of the site, as passed in from ArbiterSports.\n   *\n   * @returns A Place object with name equivalent to aSiteName, but with an address\n   *          if one was found in the preference store.\n   */\n  getPlaceForSite: function(aSiteName) {\n    // Convert the site name to a key\n    var placeKey = aSiteName.replace(/\\s/g, '');\n\n    var prefStore = PreferenceSingleton.instance;\n    if (prefStore.hasLocationPreference(placeKey)) {\n      return prefStore.getLocationPreference(placeKey);\n    }\n\n    var place = new Place(placeKey, aSiteName, undefined, \"\");\n    prefStore.addLocationPreference(place);\n    return place;\n  }\n}\n","import { Game } from './Game.js'\nimport { UIManager } from './UIManager'\nimport { PreferenceSingleton, TimeType } from './PreferenceStore'\n\n/**\n * An object for combining two callbacks for what to do when searching for Google\n * Calendar events.\n *\n * @param aMatchFunction The function to call when a matching event is found in\n *        the Google Calendar. Syntax for calling this method:\n *        onMatchFound(aGame, aCalendarEvent)\n *        where aGame represents the Game object which was searched for, and\n *        aCalendarEvent represents the Google Calendar Event object representing\n *        the event in the calendar.\n * @param aNoMatchFunction The function to call when the completed search did not\n *        find a match for a given Game object. Syntax for calling this method:\n *        onNoMatchFound(aGame)\n *        where aGame represents the Game object which was searched for.\n */\n// var EventSearchObserver = function(aMatchFunction, aNoMatchFunction) {\n//   this.onMatchFound = aMatchFunction;\n//   this.onNoMatchFound = aNoMatchFunction;\n// }\n\nexport var Arbitrator = function(aString) {\n  this.mBaseString = aString;\n  this.mGames = {};\n  this.numGames = 0;\n  this.parseFromText();\n  this.mUiManager = new UIManager();\n}\n\nArbitrator.prototype = {\n  parseFromText: function() {\n    this.mBaseString = this.mBaseString.replace(/Accepted\\ on\\ [0-9]+\\/[0-9]+\\/([0-9]{4})/g, '')\n    var cols = this.mBaseString.split(/[\\t\\n]+/);\n    this.mTable = new Array();\n    var row = new Array();\n    var columnPointer = 0;\n    var removedLastCol= false;\n    for (var col in cols) {\n      // col is our GLOBAL column pointer - the index of the current column in\n      // the whole set of all columns. columnPointer is the relative colum\n      // pointer - the index of the column in the current row.\n      var trimmedCol = cols[col].trim();\n      if (trimmedCol.length != 0) {\n        var oldLength = row.length;\n        var newLength = row.push(trimmedCol);\n\n      } else if (columnPointer == 1){\n        row.push(\"NONE\");\n      }\n\n      // Special date handling, in the event that we actually have a newline in\n      // between where the date is and where the time is (this happens occasionally)\n      if (columnPointer == 4\n          && (row[columnPointer].endsWith(\"PM\")\n              || row[columnPointer].endsWith(\"AM\"))) {\n        row[columnPointer-1] = row[columnPointer-1] + \" \" + row[columnPointer];\n        row.pop();\n        columnPointer = columnPointer - 1;\n      }\n\n      columnPointer = columnPointer + 1;\n      if (columnPointer == 9) {\n        this.mTable.push(row);\n        var gm = new Game(row[0], row[1], row[2], row[3], row[4], row[5], row[6], row[7], row[8]);\n        row = new Array();\n        this.mGames[gm.getId()] = gm;\n        this.numGames++;\n        columnPointer = 0;\n      }\n    }\n\n    this.findConsecutiveGames();\n  },\n\n  getNumGames: function() {\n    return this.numGames;\n  },\n\n  getGameById: function(aId) {\n    if (this.mGames[aId]) {\n      return this.mGames[aId];\n    }\n\n    return null;\n  },\n\n  getRows: function() {\n    return this.mTable;\n  },\n\n  getColumns: function(aRow) {\n    return this.mTable[aRow];\n  },\n\n  getDescription: function(aRow) {\n    // Game description is column 5\n    return this.mTable[aRow][5];\n  },\n\n  /**\n   * @returns 0, if the row is a referee assignment; 1, if the row is a linesman\n   *          assignment; -1 otherwise.\n   */\n  getRole: function(aGameId) {\n    return this.mGames[aGameId].getRole();\n  },\n\n//   /**\n//    * Notify the user that a game was added to his/her calendar.\n//    */\n//   // notifyGameAdded: function(aGame) {\n//   //   this.mUiManager.setMessage('Game #' + aGame.getId() + ' was added to Google Calendar.');\n//   //   this.mUiManager.refreshPreferences();\n//   // },\n//\n//   /**\n//    * Notify the user that a game was adjusted on his/her calendar.\n//    */\n//   // notifyGameAdjusted: function(aGame) {\n//   //   this.mUiManager.setMessage('Game #' + aGame.getId() + ' was adjusted in Google Calendar.');\n//   // },\n//\n//   /**\n//    * Submit games in Arbitrator to Google Calendar.\n//    *\n//    * If any games in this object correspond to games already listed in Google\n//    * Calendar, then these games will be updated with new date/time information.\n//    * If a game does not already exist in Google Calendar, then it will be added\n//    * using the submitGameToCalendar() function.\n//    *\n//    * @param aCalendarId The ID of the calendar where the games should be placed.\n//    */\n//   adjustGamesOrSubmitToCalendar: function(aCalendarId) {\n//     // Save this pointer so it can be used in the callback.\n//     var self = this;\n//     var numGames = Object.keys(this.mGames).length;\n//     var gamesProcessed = 0;\n//     var callback = new EventSearchObserver(\n//       function(aGame, aCalendarEvent) {\n//         // Do nothing for right now.\n//         self.adjustGameInCalendar(aCalendarId, aCalendarEvent, aGame);\n//         gamesProcessed++;\n//         if (gamesProcessed == numGames) {\n//           self.mUiManager.showSnackbar('Game(s) added to calendar');\n//         }\n//       },\n//\n//       function(aGame) {\n//         self.submitGameToCalendar(aCalendarId, aGame);\n//         gamesProcessed++;\n//         if (gamesProcessed == numGames) {\n//           self.mUiManager.showSnackbar('Game(s) added to calendar');\n//         }\n//       });\n//\n//     for (var key in this.mGames) {\n//       if (this.mGames.hasOwnProperty(key)) {\n//         var game = this.mGames[key];\n//         this.findGameInCalendar(aCalendarId, game, callback);\n//       }\n//     }\n//   },\n//\n//   /**\n//    * Adjust a game that is already in Google Calendar to have new data.\n//    *\n//    * This is accomplished by removing the current event in Google Calendar and\n//    * adding a new event with the corresponding data. No checking is done to\n//    * determine if these two events represent the same game.\n//    *\n//    * @param aCalendarId The id of the calendar which should have the event.\n//    * @param aEvent The event data structure given from Google that should be\n//    *        deleted.\n//    * @param aGame The game data structure that has the new data.\n//    */\n//   adjustGameInCalendar: function(aCalendarId, aEvent, aGame) {\n//     // First, delete the old event.\n//     var request = gapi.client.calendar.events.delete({\n//       'calendarId' : aCalendarId,\n//       'eventId' : aEvent.id\n//     });\n//     request.execute();\n//\n//     // Now, submit the new event.\n//     this.submitGameToCalendar(aCalendarId, aGame);\n//   },\n//\n//   /**\n//    * Submits a game to Google Calendar using the javascript rest api.\n//    *\n//    * @param aCalendarId The id of the calendar which should have the event.\n//    * @param aGame The Game to submit to the calendar.\n//    * @param aSuppressMessage If true, then no message will be shown for this event\n//    *        being added. Defaults to false.\n//    */\n//   submitGameToCalendar: function(aCalendarId, aGame) {\n//     var eventToInsert = aGame.getEventJSON();\n//     var request = gapi.client.calendar.events.insert({\n//       'calendarId' : aCalendarId,\n//       'resource' : eventToInsert\n//     });\n//     request.execute(function(aResponse){\n//       if (!aResponse['error']) {\n//         console.log(\"Request to submit game to calendar was successful\");\n//       } else {\n//         console.log(\"An error occurred: \" + aResponse);\n//       }\n//     });\n//   },\n//\n//   /**\n//    * Find a game within a given calendar.\n//    *\n//    * @param aCalendarId The google calendar id for the calendar which should be\n//    *        searched for events.\n//    * @param aGame The game that should be searched for within the calendar.\n//    * @param aCallback An object with two functions: foundMatchingEvent() and\n//    *        noMatchingEventFound(), representing logic to perform when an event\n//    *        was found or not found, respectively.\n//    */\n//   findGameInCalendar: function(aCalendarId, aGame, aCallback) {\n//     var searchString = \"{ArbitratorHash: \" + aGame.getHash() + \"}\";\n//     var request = gapi.client.calendar.events.list({\n//       'calendarId' : aCalendarId\n//     });\n//     request.execute(function(aResponse) {\n//       var results = aResponse.items;\n//       var foundEvent = false;\n//       for (var i = 0; i < results.length; i++) {\n//         var calEvent = results[i];\n//         if (calEvent.description\n//             && calEvent.description.indexOf(searchString) > 0) {\n//             aCallback.onMatchFound(aGame, calEvent)\n//             foundEvent = true;\n//             break;\n//         }\n//       }\n//\n//       if (!foundEvent) {\n//         aCallback.onNoMatchFound(aGame);\n//       }\n//     });\n//   },\n\n  /**\n   * Retrieve all games in this Arbitrator object.\n   *\n   * @return An array of all Game objects known about by this Arbitrator\n   * instance.\n   */\n  getAllGames: function() {\n    return this.mGames;\n  },\n\n//   /**\n//    * Search through all games to find those that are consecutive.\n//    *\n//    * Note that this does not currently search through calendar history. That is,\n//    * only games that are entered together in the same Arbitrator object are\n//    * under consideration for being linked in a consecutive manner.\n//    */\n  findConsecutiveGames: function() {\n    var prefStore = PreferenceSingleton.instance;\n    var gameLengthMins = prefStore.getTimePreference(TimeType.LENGTH_OF_GAME, 60);\n    var prevGame;\n    for (var index in this.mGames) {\n      var curGame = this.mGames[index];\n      if (prevGame\n          && curGame.isWithinConsecutiveTimeRangeOf(prevGame)\n          && curGame.getSite().getName() == prevGame.getSite().getName()) {\n          curGame.setConsecutiveGame(true);\n        }\n\n        prevGame = curGame;\n      }\n  }\n}\n","import jQuery from 'jquery'\nimport $ from 'jquery'\nimport { Place } from './Place'\nimport { ArbitratorGoogleClient } from './ArbitratorGoogleClient'\nimport { ArbitratorConfig } from './ArbitratorConfig'\nimport { StringUtils } from './StringUtils'\nimport { PreferenceSingleton, TimeType } from './PreferenceStore'\nimport { Arbitrator } from './Arbitrator'\n\nexport var UIManager = function() {\n}\n\nUIManager.prototype = {\n  mGoogleClient: null,\n  mBackStack: new Array(),\n\n  /**\n   * Perform functionality when the user clicks the 'Submit' button to indicate\n   * they wish to invoke arbitrator's functionality.\n   */\n  onArbitrate: function() {\n    var scheduleText = $('#schedule').val();\n    var arb = new Arbitrator(scheduleText);\n    var calSelectionElement = document.getElementById('calendarList');\n    var selectedId = calSelectionElement[calSelectionElement.selectedIndex].id;\n    console.log(\"Arbitrating: \" + scheduleText);\n    // arb.adjustGamesOrSubmitToCalendar(selectedId);\n  },\n\n  setUIListeners: function() {\n    this._setPreferenceOnClickHandlers();\n    this._setHeaderScrollListener();\n    this._setNavDrawerOnClickHandlers();\n    this._setArbitrateOnClickHandler();\n    this._setLogoutOnClickHandler();\n    this._setDismissSnackBarOnClickHandler();\n  },\n\n  /**\n   * Refresh the preference UI from local storage and populate the UI\n   * accordingly.\n   */\n  refreshPreferences: function() {\n    var prefStore = PreferenceSingleton.instance;\n    this.refreshTimePreferences();\n    this.refreshAliasPreferences();\n    this.refreshLocationPreferences();\n\n    this._setPreferenceOnClickHandlers();\n  },\n\n  /**\n   * Refresh the preference UI from local storage for all time preferences.\n   */\n  refreshTimePreferences: function() {\n    var prefStore = PreferenceSingleton.instance;\n    var timePrefs = prefStore.getAllTimePreferences();\n    for (var key in timePrefs) {\n      if (timePrefs.hasOwnProperty(key)) {\n        $('#timePref-' + key).val(timePrefs[key]);\n      }\n    }\n  },\n\n  /**\n   * Refresh the preference UI from local storage for all location preferences.\n   */\n  refreshLocationPreferences: function() {\n    var prefStore = PreferenceSingleton.instance;\n    var locPrefs = prefStore.getAllLocationPreferences();\n    for (var key in locPrefs) {\n      if (locPrefs.hasOwnProperty(key)) {\n        this.addLocationPreference(prefStore.getLocationPreference(key));\n      }\n    }\n  },\n\n  /**\n   * Refresh the preference UI from local storage for all group/alias\n   * preferences.\n   */\n  refreshAliasPreferences: function() {\n    $('#aliasInputs').html('');\n    var prefStore = PreferenceSingleton.instance;\n    var aliasedGroups = prefStore.getAllGroupAliases();\n    for (var prop in aliasedGroups) {\n      if (aliasedGroups.hasOwnProperty(prop)) {\n        var groupAlias = aliasedGroups[prop];\n\n        this.addAliasUIFor(prop, groupAlias);\n      }\n    }\n  },\n\n  /**\n   * Set a time preference from the UI an propagate this preference to the\n   * preference store.\n   *\n   * @param aTimePrefName The name of the time preference to set from the UI.\n   */\n  setTimePreferenceFromUI: function(aTimePrefName) {\n    var timePrefVal = $('#timePref-' + aTimePrefName).val();\n    var prefName = '';\n    var prefStore = PreferenceSingleton.instance;\n    prefStore.addTimePreference(aTimePrefName, timePrefVal);\n  },\n\n  /**\n   * Add an alias UI element for a given group name and alias.\n   *\n   * @param aGroupName The name of the group (as specified in the input) for which\n   *        an alias was created.\n   * @param aGroupAlias The name of the alias to use for this group.\n   */\n  addAliasUIFor: function(aGroupName, aGroupAlias) {\n    var that = this;\n    $.get('partials/alias-preference.partial.html', function(data) {\n      var dataElement = $(data);\n      dataElement.find('.originalName')\n                 .data('actualname', aGroupName)\n                 .attr('value', aGroupName);\n      dataElement.find('.aliasRemoveButton')\n                 .data('actualname', aGroupName);\n\n      // If the group name is the same as the alias name, just assume we don't\n      // have an alias set.\n      if (aGroupAlias != aGroupName) {\n        dataElement.find('.aliasName').attr('value', aGroupAlias);\n      }\n\n      $('#aliasInputs').append(dataElement);\n      that._setAliasPreferenceOnClickHandlers();\n    });\n  },\n\n  showSnackbar: function(aMessage) {\n    $('#snackbar-message').text(aMessage);\n    $('dialog.snackbar').show();\n\n    setTimeout(function() {\n      $('dialog.snackbar').hide();\n    }, 4000);\n  },\n\n  /**\n   * Add an alias to the preference store for a given group name and alias.\n   *\n   * @param aGroupName The name of the group for which the alias should be\n   *        retrieved from the UI and placed in the preference store.\n   * @param aAliasName The name of the alias to use which should be stored in\n   *        the preference store.\n   */\n  addAliasToPrefStore: function(aGroupName, aAliasName) {\n      var prefStore = PreferenceSingleton.instance;\n      prefStore.addGroupAlias(aGroupName, aAliasName);\n      // this.acknowledgePreference(aGroupName);\n      this.showSnackbar(\"Alias '\" + aAliasName + \"' set\");\n  },\n\n  setLocationPreference: function(aLocationPrefKey, aLocationPrefName) {\n    var address = $('#locationAddressPref-' + aLocationPrefKey).val();\n    var subLocationName = $('#locationSubLocationPref-' + aLocationPrefKey).val();\n\n    var prefName = '';\n    var prefStore = PreferenceSingleton.instance;\n    prefStore.addLocationPreference(new Place(aLocationPrefKey, aLocationPrefName, address, subLocationName));\n\n    this.showSnackbar(\"Address for '\" + aLocationPrefName + \"' set\");\n  },\n\n  deleteLocationPreference: function(aLocationKey) {\n    var prefStore = PreferenceSingleton.instance;\n    prefStore.removeLocationPreference(aLocationKey);\n  },\n\n  deleteAliasPreference: function(aGroupName) {\n    var prefStore = PreferenceSingleton.instance;\n    prefStore.removeGroupAlias(aGroupName);\n  },\n\n  addLocationPreference: function(aPlace) {\n    var that = this;\n    $.get('partials/location-preference.partial.html', function(data) {\n      var dataElement = $(data);\n      var addressTextInputId = 'locationAddressPref-' + aPlace.getShortName();\n      var subLocationTextInputId = 'locationSubLocationPref-' + aPlace.getShortName();\n      var addressPlaceholderText = 'Enter address for ' + aPlace.getName();\n      if (aPlace.getAddress()) {\n        addressPlaceholderText = aPlace.getAddress();\n      }\n\n      var subLocationPlaceholderText = '';\n      if (aPlace.hasSubLocation()) {\n        subLocationPlaceholderText = aPlace.getSubLocationName();\n      }\n\n      dataElement.find('label').attr('for', addressTextInputId).text(aPlace.getName());\n      dataElement.find('.locationTextInput').attr('id', addressTextInputId)\n                 .attr('placeholder', addressPlaceholderText);\n      dataElement.find('.locationTextInput.small').attr('id', subLocationTextInputId)\n                 .attr('placeholder', subLocationPlaceholderText);\n      dataElement.find('.locationRemoveButton')\n                 .data('locationshortname', aPlace.getShortName());\n      dataElement.find('.locationSetButton')\n                 .data('locationshortname', aPlace.getShortName())\n                 .data('locationname', aPlace.getName());\n\n      $('#locationInputs').append(dataElement);\n      var addressElement = document.getElementById('locationAddressPref-' + aPlace.getShortName())\n\n      // Since this method is run every time preferences are refreshed, and in\n      // order to generalize the loadContent() method a bit we refresh all\n      // preferences on every content load, this should only be called if there\n      // actually _is_ a location preference input element in the DOM.\n      if (addressElement) {\n        // locService.enableAutoCompleteForElement(addressElement);\n        that._setLocationPreferenceOnClickHandlers();\n      }\n    });\n  },\n\n  // logout: function() {\n  //   var prefStore = PreferenceSingleton.instance;\n  //   prefStore.removeUserId();\n  //   location.reload();\n  // },\n\n  /**\n   * Set all onClick() handlers for preference UI elements.\n   */\n  _setPreferenceOnClickHandlers: function() {\n    this._setTimePreferenceOnClickHandlers();\n    this._setAliasPreferenceOnClickHandlers();\n    this._setLocationPreferenceOnClickHandlers();\n  },\n\n  /**\n   * Set the onClick() handlers for time preferences.\n   */\n  _setTimePreferenceOnClickHandlers: function() {\n    var that = this;\n    $('#setPriorToStart').click(function() {\n      var minutes = $('#timePref-priorToStart').val();\n      that.setTimePreferenceFromUI('priorToStart');\n      that.showSnackbar('Calendar events will start ' + minutes + ' minutes prior to the game start');\n    });\n\n    $('#setGameLength').click(function() {\n      var length = $('#timePref-gameLength').val();\n      that.setTimePreferenceFromUI('gameLength');\n      that.showSnackbar('Calendar events will be set to ' + length + ' minutes in length');\n    });\n\n    $('#setConsecutiveGames').click(function() {\n      var consecutiveThresh = $('#timePref-consecutiveGames').val();\n      that.setTimePreferenceFromUI('consecutiveGames');\n      that.showSnackbar(\"Any games within \" + consecutiveThresh + \" hours of each other at the same location will be considered consecutive\");\n    });\n  },\n\n  /**\n   * Set the onClick() handlers for alias/group preferences.\n   */\n  _setAliasPreferenceOnClickHandlers: function() {\n    var that = this;\n    var prefStore = PreferenceSingleton.instance;\n\n    $('button.setAlias').each(function() {\n      $(this).off('click');\n      $(this).click(function() {\n        var actualName = $(this).parent().find('.originalName').data('actualname');\n        var aliasName = $(this).parent().find('.aliasName').val();\n        that.addAliasToPrefStore(actualName, aliasName);\n      });\n    });\n\n    $('.aliasRemoveButton').each(function() {\n      $(this).off('click');\n      $(this).click(function() {\n        that.deleteAliasPreference($(this).data('actualname'));\n        $(this).parent().fadeOut(300, function () {\n          $(this).remove();\n        });\n      });\n    });\n\n    $('#aliasAddButton').off('click');\n    $('#aliasAddButton').click(function() {\n      var actualName = $('#aliasAddName').text();\n      var aliasName = $('#aliasAddAlias').text();\n\n      that.addAliasToPrefStore(actualName, aliasName);\n\n      $('#aliasAddName').text('');\n      $('#aliasAddAlias').text('');\n\n      that.refreshAliasPreferences();\n    });\n  },\n\n  _setLocationPreferenceOnClickHandlers: function() {\n    var that = this;\n    $('.locationSetButton').each(function() {\n      $(this).click(function() {\n        that.setLocationPreference($(this).data('locationshortname'), $(this).data('locationname'));\n      });\n    });\n\n    $('.locationRemoveButton').each(function() {\n      $(this).click(function() {\n        that.deleteLocationPreference($(this).data('locationshortname'));\n        $(this).parent().fadeOut(300, function () {\n          $(this).remove();\n        });\n      });\n    });\n  },\n\n/**\n * Enable the scroll listener so we can determine whether to show the box\n * shadow beneath the app bar. If the view is scrolled, the app bar will have\n * a shadow underneath it. Otherwise, the app bar will have no shadow.\n */\n  _setHeaderScrollListener: function() {\n    $(window).scroll(function() {\n      if ($(this).scrollTop() == 0) {\n          $('header').css({'box-shadow': 'none'});\n      } else {\n        $('header').css({\n          'box-shadow': '0px 2px 10px rgba(0, 0, 0, 0.2)'\n        });\n      }\n    });\n  },\n\n  /**\n   * Set the onClick() handler for the main \"arbitrate\" button.\n   */\n  _setArbitrateOnClickHandler: function() {\n    var that = this;\n    $('#arbitrate-button').click(function () {\n      that.onArbitrate();\n    });\n  },\n\n  /**\n   * Set the onClick() handler for the logout link.\n   */\n   _setLogoutOnClickHandler: function() {\n     $('#logoutLink').click(function() {\n       this.logout();\n     });\n   },\n\n   _setDismissSnackBarOnClickHandler: function() {\n     $('#dismissSnackbar').click(function(){\n       $('#snackbar-message').text('');\n       $('.snackbar').hide();\n     });\n   },\n\n  /**\n   * Set the onClick() handler for the navigation drawer button (i.e. the\n   * hamburger icon). Also sets up all the navigation drawer item onClick()\n   * handlers.\n   */\n  _setNavDrawerOnClickHandlers: function() {\n    var that = this;\n\n    $('.nav-drawer-header').click(function() {\n      $('#nav-drawer').css({\n        'transform': 'translate(-256px, 0px)'\n      });\n    });\n\n    $('.nav-drawer-item').each(function() {\n      var data = $(this).data('item');\n\n      $(this).click(function() {\n        that.loadContent(data, StringUtils.capitalize(data), function() {\n          that.refreshPreferences();\n        });\n      });\n    });\n  },\n\n  /**\n   * Open the navigation drawer using a transition animation.\n   */\n  openNavDrawer: function() {\n    $('#nav-drawer').css({\n      'transform': 'translate(0px, 0px)'\n    });\n  },\n\n  /**\n   * Close the navigation drawer using a transition animation.\n   */\n  closeNavDrawer: function() {\n    $('#nav-drawer').css({\n      'transform': 'translate(-256px, 0px)'\n    });\n  },\n\n  /**\n   * Load content into the main content pane.\n   *\n   * This asynchronously loads a file prefixed with an appropriate file id into\n   * the main content pane, adjusts the title and back stack, and calls an\n   * optional onComplete() handler when finished.\n   *\n   * @param aContentFileId The id of the content file to load. This must\n   *        correspond to a file in the partials/ subdirectory called\n   *        <aContentFileId>.partial.html.\n   * @param aTitle The title of the page to load. Will be presented in the app\n   *        bar.\n   * @param aOnComplete (optional) If included, this will be called when the\n   *        load operation has completed.\n   */\n  loadContent: function(aContentFileName, aTitle, aOnComplete) {\n    var that = this;\n\n    // Set the text of the nav drawer header\n    that.closeNavDrawer();\n\n    if (aContentFileName == 'main') {\n      that.refreshGoogleClient(function(aGoogleClient) {\n        that.populateCalendarList(aGoogleClient);\n        that.populateUserId(aGoogleClient);\n      });\n    }\n\n    $('main#content').load('partials/' + aContentFileName + '.partial.html', null,\n                           function() {\n                             that._addToBackStack({\n                               'id': aContentFileName,\n                               'name': aTitle\n                             });\n\n                             if (!that._isBackStackEmpty()) {\n                               that._showBackArrow();\n                             } else {\n                               that._showHamburgerIcon();\n                             }\n\n                             // Add the title to the app bar.\n                             $('#pageTitle').text(aTitle);\n\n                             // Add the version number to the app bar\n                             $('#versionNumber').text('v' + ArbitratorConfig.version_number);\n\n                             if (aOnComplete) {\n                               aOnComplete();\n                             }\n                           });\n  },\n\n  /**\n   * Refresh the ArbitratorGoogleClient object held internally.\n   *\n   * If necessary, this will create a new ArbitratorGoogleClient object.\n   *\n   * @param aOnComplete A function to execute after the ArbitratorGoogleClient\n   *        is initialized. If the ArbitratorGoogleClient is already set up, it\n   *        will execute immediately; otherwise, it will execute once the\n   *        ArbitratorGoogleClient is completely initialized. This function\n   *        should take a single argument: the ArbitratorGoogleClient instance\n   *        (in the event you want to work with it in the callback).\n   */\n  refreshGoogleClient: function(aOnComplete) {\n    if (this.mGoogleClient == null) {\n      this.mGoogleClient = new ArbitratorGoogleClient();\n    }\n\n    this.mGoogleClient.getToken().then(() => {\n      aOnComplete(this.mGoogleClient);\n    });\n  },\n\n  /**\n   * Populate the list of calendars in the main user interface.\n   *\n   * @param  {[ArbitratorGoogleClient]} aGoogleClient The client with which the\n   *                                    api calls should be run with.\n   */\n  populateCalendarList: function(aGoogleClient) {\n    aGoogleClient.getCalendarList()\n      .then((items) => {\n        var selectEle = $('#calendarList');\n        for (var calendarIdx in items) {\n            var calendarItem = items[calendarIdx];\n            var listItem = $('<option></option>');\n            listItem.attr('id', calendarItem.id);\n            listItem.text(calendarItem.summary);\n            selectEle.append(listItem);\n        }\n        selectEle.css('display', 'block');\n      });\n  },\n\n/**\n * Populate the Google+ user id of the user in the preference store.\n *\n * @param  {[ArbitratorGoogleClient]} aGoogleClient The client with which the\n *                                    api calls should be run with.\n */\n  populateUserId: function(aGoogleClient) {\n    aGoogleClient.getUserId().then((id) => {\n      var prefStore = PreferenceSingleton.instance;\n      prefStore.setUserId(id);\n    });\n  },\n\n  /**\n   * Show the back arrow icon in place of the navigation drawer icon and adjust\n   * the onClick() functionality for this icon so that it pops from the back\n   * stack.\n   */\n  _showBackArrow: function() {\n    var that = this;\n\n    $('#hamburger').css({\n      'background': 'no-repeat url(\"images/back.svg\")'\n    });\n\n    that._bindEventHandlerForNavMenu(true);\n  },\n\n  /**\n   * Show the hamburger (navigation drawer indicator) icon and adjust\n   * the onClick() functionality for this icon so that it opens the navigation\n   * drawer.\n   */\n  _showHamburgerIcon: function() {\n    var that = this;\n\n    $('#hamburger').css({\n      'background': 'no-repeat url(\"images/hamburger.svg\")'\n    });\n\n    that._bindEventHandlerForNavMenu(false);\n  },\n\n  /**\n   * Clear current event handlers for the nav menu button in the upper right of\n   * the app bar and re-add the appropriate onClick() handler.\n   */\n  _bindEventHandlerForNavMenu: function(aIsBack) {\n    var that = this;\n    $('#hamburger').unbind('click');\n\n    if (aIsBack) {\n      $('#hamburger').click(function() {\n        that._popBackStack();\n      });\n    } else {\n      $('#hamburger').click(function() {\n        that.openNavDrawer();\n      });\n    }\n  },\n\n  /**\n   * Add a new back stack entry to the back stack.\n   *\n   * A back stack entry consists of an object of the form:\n   * {\n   *   'id': <string>,\n   *   'name': <string\n   * }\n   * where 'id' is a string indicating the id of the content to show, which must\n   * be unique and be the prefix of one of the .partial.html files in the partials/\n   * subdirectory, and 'name' is the human-readable title of the content.\n   *\n   * @param aBackStackEntry The back stack entry to add to the back stack.\n   */\n  _addToBackStack: function(aBackStackEntry) {\n    this.mBackStack.push(aBackStackEntry);\n  },\n\n  /**\n   * Remove the last back stack entry from the back stack and return it.\n   *\n   * A back stack entry consists of an object of the form:\n   * {\n   *   'id': <string>,\n   *   'name': <string\n   * }\n   * where 'id' is a string indicating the id of the content to show, which must\n   * be unique and be the prefix of one of the .partial.html files in the partials/\n   * subdirectory, and 'name' is the human-readable title of the content.\n   *\n   * @return The back stack entry in the back stack that was last added.\n   */\n  _popBackStack: function() {\n    // Remove the current entry from the back stack first\n    this.mBackStack.pop();\n\n    var lastEntry = this.mBackStack.pop();\n\n    this.loadContent(lastEntry.id, lastEntry.name, null);\n  },\n\n  /**\n   * Determine if the back stack is empty.\n   *\n   * The back stack is empty if it contains a single content node - that of the\n   * 'main' or root content.\n   *\n   * @return True, if the back stack contains 1 item; false, otherwise.\n   */\n  _isBackStackEmpty: function() {\n    return this._getBackStackSize() == 1;\n  },\n\n  /**\n   * @return The number of items in the back stack.\n   */\n  _getBackStackSize: function() {\n    return this.mBackStack.length;\n  }\n};\n","// This is main process of Electron, started as first thing when your\n// app starts. This script is running through entire life of your application.\n// It doesn't have any windows which you can see on screen, but we can open\n// window from here.\n\nimport { app, Menu, ipcMain} from 'electron';\nimport { devMenuTemplate } from './menu/dev_menu_template';\nimport { editMenuTemplate } from './menu/edit_menu_template';\nimport createWindow from './helpers/window';\nimport { UIManager } from './arbitrator/UIManager'\nimport { ArbitratorGoogleClient } from './arbitrator/ArbitratorGoogleClient'\n\n// Special module holding environment variables which you declared\n// in config/env_xxx.json file.\nimport env from './env';\n\nvar mainWindow;\n\nvar setApplicationMenu = function () {\n    var menus = [editMenuTemplate];\n    if (env.name !== 'production') {\n        menus.push(devMenuTemplate);\n    }\n    Menu.setApplicationMenu(Menu.buildFromTemplate(menus));\n};\n\n// Save userData in separate folders for each environment.\n// Thanks to this you can use production and development versions of the app\n// on same machine like those are two separate apps.\nif (env.name !== 'production') {\n    var userDataPath = app.getPath('userData');\n    app.setPath('userData', userDataPath + ' (' + env.name + ')');\n}\n\napp.on('ready', function () {\n    setApplicationMenu();\n\n    var mainWindow = createWindow('main', {\n        width: 1000,\n        height: 600\n    });\n\n    mainWindow.webContents.on('dom-ready', function() {\n        var manager = new UIManager();\n        var client = new ArbitratorGoogleClient();\n        client.getToken()\n              .then(token => {\n                  sendMessageToRenderer(mainWindow, token)\n              });\n    });\n\n    mainWindow.loadURL('file://' + __dirname + '/app.html');\n\n    if (env.name === 'development') {\n        mainWindow.openDevTools();\n    }\n});\n\napp.on('window-all-closed', function () {\n    app.quit();\n});\n\nfunction sendMessageToRenderer(window, message) {\n    let contents = window.webContents;\n    contents.send('ready', message);\n}\n"],"names":["app","BrowserWindow","screen","Menu"],"mappings":"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"}